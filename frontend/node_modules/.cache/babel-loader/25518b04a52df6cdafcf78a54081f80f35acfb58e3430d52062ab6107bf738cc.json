{"ast":null,"code":"var _jsxFileName = \"/Users/artembritsyn/tema/ai-service/frontend/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Tabs, Input, Card, List } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\nimport TenderDetails from './components/TenderDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [tabs, setTabs] = useState([]);\n  const [activeKey, setActiveKey] = useState('');\n  const [selectedTender, setSelectedTender] = useState(null);\n  const handleSearch = async query => {\n    try {\n      const response = await fetch('http://localhost:8000/search-tenders/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query,\n          top_k: 10\n        })\n      });\n      const tenders = await response.json();\n      const newTab = {\n        id: Date.now().toString(),\n        query,\n        tenders\n      };\n      setTabs([...tabs, newTab]);\n      setActiveKey(newTab.id);\n    } catch (error) {\n      console.error('Search failed:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      children: /*#__PURE__*/_jsxDEV(Input.Search, {\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0438\\u0441\\u043A\\u043E\\u0432\\u044B\\u0439 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441...\",\n        enterButton: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 24\n        }, this),\n        size: \"large\",\n        onSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      activeKey: activeKey,\n      onChange: setActiveKey,\n      type: \"editable-card\",\n      items: tabs.map(tab => ({\n        key: tab.id,\n        label: tab.query,\n        children: /*#__PURE__*/_jsxDEV(List, {\n          grid: {\n            gutter: 16,\n            column: 2\n          },\n          dataSource: tab.tenders,\n          renderItem: tender => /*#__PURE__*/_jsxDEV(List.Item, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              title: tender.tender_name,\n              onClick: () => setSelectedTender(tender.purchase_number),\n              style: {\n                cursor: 'pointer'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u041D\\u043E\\u043C\\u0435\\u0440: \", tender.purchase_number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0420\\u0435\\u043B\\u0435\\u0432\\u0430\\u043D\\u0442\\u043D\\u043E\\u0441\\u0442\\u044C: \", (tender.similarity_score * 100).toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this), tender.deadline && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0421\\u0440\\u043E\\u043A \\u043F\\u043E\\u0434\\u0430\\u0447\\u0438: \", tender.deadline]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 41\n              }, this), tender.amount && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0421\\u0443\\u043C\\u043C\\u0430: \", tender.amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 39\n              }, this), tender.organization && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F: \", tender.organization]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), selectedTender && /*#__PURE__*/_jsxDEV(TenderDetails, {\n      purchaseNumber: selectedTender,\n      visible: !!selectedTender,\n      onClose: () => setSelectedTender(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"6xLc2lGt5pJR5D+q/ZpU6GQg6kI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Tabs","Input","Card","List","SearchOutlined","TenderDetails","jsxDEV","_jsxDEV","App","_s","tabs","setTabs","activeKey","setActiveKey","selectedTender","setSelectedTender","handleSearch","query","response","fetch","method","headers","body","JSON","stringify","top_k","tenders","json","newTab","id","Date","now","toString","error","console","className","children","Search","placeholder","enterButton","fileName","_jsxFileName","lineNumber","columnNumber","size","onSearch","onChange","type","items","map","tab","key","label","grid","gutter","column","dataSource","renderItem","tender","Item","title","tender_name","onClick","purchase_number","style","cursor","similarity_score","toFixed","deadline","amount","organization","purchaseNumber","visible","onClose","_c","$RefreshReg$"],"sources":["/Users/artembritsyn/tema/ai-service/frontend/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Tabs, Input, Card, List } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\nimport TenderDetails from './components/TenderDetails';\n\ninterface Tab {\n  id: string;\n  query: string;\n  tenders: Tender[];\n}\n\ninterface Tender {\n  purchase_number: string;\n  tender_name: string;\n  similarity_score: number;\n  deadline?: string;\n  amount?: string;\n  organization?: string;\n}\n\nconst App: React.FC = () => {\n  const [tabs, setTabs] = useState<Tab[]>([]);\n  const [activeKey, setActiveKey] = useState<string>('');\n  const [selectedTender, setSelectedTender] = useState<string | null>(null);\n\n  const handleSearch = async (query: string) => {\n    try {\n      const response = await fetch('http://localhost:8000/search-tenders/', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ query, top_k: 10 })\n      });\n      \n      const tenders = await response.json();\n      \n      const newTab: Tab = {\n        id: Date.now().toString(),\n        query,\n        tenders\n      };\n      \n      setTabs([...tabs, newTab]);\n      setActiveKey(newTab.id);\n      \n    } catch (error) {\n      console.error('Search failed:', error);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"search-container\">\n        <Input.Search\n          placeholder=\"Введите поисковый запрос...\"\n          enterButton={<SearchOutlined />}\n          size=\"large\"\n          onSearch={handleSearch}\n        />\n      </div>\n      \n      <Tabs\n        activeKey={activeKey}\n        onChange={setActiveKey}\n        type=\"editable-card\"\n        items={tabs.map(tab => ({\n          key: tab.id,\n          label: tab.query,\n          children: (\n            <List\n              grid={{ gutter: 16, column: 2 }}\n              dataSource={tab.tenders}\n              renderItem={tender => (\n                <List.Item>\n                  <Card \n                    title={tender.tender_name}\n                    onClick={() => setSelectedTender(tender.purchase_number)}\n                    style={{ cursor: 'pointer' }}\n                  >\n                    <p>Номер: {tender.purchase_number}</p>\n                    <p>Релевантность: {(tender.similarity_score * 100).toFixed(1)}%</p>\n                    {tender.deadline && <p>Срок подачи: {tender.deadline}</p>}\n                    {tender.amount && <p>Сумма: {tender.amount}</p>}\n                    {tender.organization && <p>Организация: {tender.organization}</p>}\n                  </Card>\n                </List.Item>\n              )}\n            />\n          )\n        }))}\n      />\n      \n      {selectedTender && (\n        <TenderDetails\n          purchaseNumber={selectedTender}\n          visible={!!selectedTender}\n          onClose={() => setSelectedTender(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}